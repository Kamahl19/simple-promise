!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("SimplePromise",[],n):"object"==typeof exports?exports.SimplePromise=n():e.SimplePromise=n()}(this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(e){return"function"==typeof e},u=function(e){return"object"===("undefined"==typeof e?"undefined":r(e))},c=0,f=1,a=2,l=function(){function e(n){function o(n){e.isSimplePromise(n)?n.then(o,r):l(f,n)}function r(e){l(a,e)}var u=this;if(t(this,e),!i(n))throw new TypeError("SimplePromise resolver "+n+" is not a function");this.callbacks=[],this.state=c;var l=function(e,n){setTimeout(function(){u.state===c&&(u.state=e,u.x=n,u.callbacks.forEach(function(t){e===f?t.onFulfilled(n):t.onRejected(n)}))})};try{n(o,r)}catch(s){r(s)}}return o(e,[{key:"then",value:function(n,t){function o(n,t,r,f){n===t?f(new TypeError("You cannot resolve a promise with itself")):e.isSimplePromise(t)?t.state===c?t.then(function(e){o(n,e,r,f)},f):t.then(r,f):null!==t&&(u(t)||i(t))?!function(){var e=!1;try{var u=t.then;i(u)?u.call(t,function(t){e||(e=!0,o(n,t,r,f))},function(n){e||(e=!0,f(n))}):r(t)}catch(c){e||(e=!0,f(c))}}():r(t)}function r(e,n,t,r){try{var i=t===f?s(r):p(r);o(y,i,e,n)}catch(u){n(u)}}var l=this,s=i(n)?n:function(e){return e},p=i(t)?t:function(e){throw e},y=void 0;return y=new e(this.state===c?function(e,n){l.callbacks.push({onFulfilled:function(t){r(e,n,f,t)},onRejected:function(t){r(e,n,a,t)}})}:function(e,n){setTimeout(function(){r(e,n,l.state,l.x)})})}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"finally",value:function(e){return this.then(function(n){return setTimeout(e),n},function(n){throw setTimeout(e),n})}}],[{key:"resolve",value:function(n){return new e(function(e){e(n)})}},{key:"reject",value:function(n){return new e(function(e,t){t(n)})}},{key:"all",value:function(n){return Array.isArray(n)?new e(function(t,o){var r=n.length,i=[];0===r&&t(i),n.forEach(function(n,u){e.resolve(n).then(function(e){i[u]=e,0===--r&&t(i)},function(e){return o(e)})})}):e.reject(new TypeError("You must pass an array to SimplePromise.all."))}},{key:"race",value:function(n){return Array.isArray(n)?new e(function(t,o){n.forEach(function(n){e.resolve(n).then(t,o)})}):e.reject(new TypeError("You must pass an array to SimplePromise.race."))}}]),e}();l.isSimplePromise=function(e){return e instanceof l},n["default"]=l,e.exports=n["default"]}])});
//# sourceMappingURL=SimplePromise.min.js.map