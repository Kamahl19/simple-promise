{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 1c0ef5c09636f621fc6c","webpack:///./src/index.js"],"names":["SimplePromise","isFunction","f","isObject","o","PENDING","FULFILLED","REJECTED","resolver","TypeError","callbacks","state","transition","x","setTimeout","forEach","cb","onFulfilled","onRejected","resolve","value","then","reject","reason","e","resolvePromise","promise","v","thenCalledOrThrow","call","y","r","prototype","onFulfill","onReject","promise2","schedulePromiseResolution","push","catch","finally","all","promises","Array","isArray","remaining","length","values","i","race"],"mappings":"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","file":"SimplePromise.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"SimplePromise\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SimplePromise\"] = factory();\n\telse\n\t\troot[\"SimplePromise\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1c0ef5c09636f621fc6c\n **/","const isFunction = (f) => typeof f === 'function';\nconst isObject = (o) => typeof o === 'object';\n\nconst PENDING = 0;\nconst FULFILLED = 1;\nconst REJECTED = 2;\n\nexport default function SimplePromise(resolver) {\n    if (!isFunction(resolver)) {\n        throw new TypeError(`SimplePromise resolver ${resolver} is not a function`);\n    }\n\n    this.callbacks = [];\n    this.state = PENDING;\n\n    const transition = (state, x) => {\n        setTimeout(() => {\n            if (this.state === PENDING) {\n                this.state = state;\n                this.x = x;\n\n                this.callbacks.forEach((cb) => {\n                    if (state === FULFILLED) {\n                        cb.onFulfilled(x);\n                    }\n                    else {\n                        cb.onRejected(x);\n                    }\n                });\n            }\n        });\n    };\n\n    function resolve(value) {\n        if (value instanceof SimplePromise) {\n            value.then(resolve, reject);\n        }\n        else {\n            transition(FULFILLED, value);\n        }\n    }\n\n    function reject(reason) {\n        transition(REJECTED, reason);\n    }\n\n    try {\n        resolver(resolve, reject);\n    }\n    catch (e) {\n        reject(e);\n    }\n}\n\nfunction resolvePromise(promise, x, resolve, reject) {\n    if (promise === x) {\n        reject(new TypeError('You cannot resolve a promise with itself'));\n    }\n    else if (x instanceof SimplePromise) {\n        if (x.state === PENDING) {\n            x.then((v) => {\n                resolvePromise(promise, v, resolve, reject);\n            }, reject);\n        }\n        else {\n            x.then(resolve, reject);\n        }\n    }\n    else if (x !== null && (isObject(x) || isFunction(x))) {\n        let thenCalledOrThrow = false;\n\n        try {\n            const then = x.then;\n\n            if (isFunction(then)) {\n                then.call(x, (y) => {\n                    if (!thenCalledOrThrow) {\n                        thenCalledOrThrow = true;\n                        resolvePromise(promise, y, resolve, reject);\n                    }\n                }, (r) => {\n                    if (!thenCalledOrThrow) {\n                        thenCalledOrThrow = true;\n                        reject(r);\n                    }\n                });\n            }\n            else {\n                resolve(x);\n            }\n        }\n        catch (e) {\n            if (!thenCalledOrThrow) {\n                thenCalledOrThrow = true;\n                reject(e);\n            }\n        }\n    }\n    else {\n        resolve(x);\n    }\n}\n\nSimplePromise.prototype.then = function (onFulfilled, onRejected) {\n    const onFulfill = isFunction(onFulfilled) ? onFulfilled : (v) => v;\n    const onReject = isFunction(onRejected) ? onRejected : (r) => {\n        throw r;\n    };\n\n    let promise2;\n\n    function schedulePromiseResolution(resolve, reject, state, value) {\n        try {\n            const x = (state === FULFILLED) ? onFulfill(value) : onReject(value);\n            resolvePromise(promise2, x, resolve, reject);\n        }\n        catch (e) {\n            reject(e);\n        }\n    }\n\n    if (this.state === PENDING) {\n        promise2 = new SimplePromise((resolve, reject) => {\n            this.callbacks.push({\n                onFulfilled: (value) => {\n                    schedulePromiseResolution(resolve, reject, FULFILLED, value);\n                },\n                onRejected: (reason) => {\n                    schedulePromiseResolution(resolve, reject, REJECTED, reason);\n                },\n            });\n        });\n    }\n    else {\n        promise2 = new SimplePromise((resolve, reject) => {\n            setTimeout(() => {\n                schedulePromiseResolution(resolve, reject, this.state, this.x);\n            });\n        });\n    }\n\n    return promise2;\n};\n\nSimplePromise.prototype.catch = function (onRejected) {\n    return this.then(null, onRejected);\n};\n\nSimplePromise.prototype.finally = function (cb) {\n    return this.then((v) => {\n        setTimeout(cb);\n        return v;\n    }, (r) => {\n        setTimeout(cb);\n        throw r;\n    });\n};\n\nSimplePromise.resolve = function (value) {\n    return new SimplePromise((resolve) => {\n        resolve(value);\n    });\n};\n\nSimplePromise.reject = function (reason) {\n    return new SimplePromise((resolve, reject) => {\n        reject(reason);\n    });\n};\n\nSimplePromise.all = function (promises) {\n    if (!Array.isArray(promises)) {\n        return SimplePromise.reject(new TypeError('You must pass an array to SimplePromise.all.'));\n    }\n\n    return new SimplePromise((resolve, reject) => {\n        let remaining = promises.length;\n        const values = [];\n\n        if (remaining === 0) {\n            resolve(values);\n        }\n\n        promises.forEach((promise, i) => {\n            SimplePromise.resolve(promise).then((value) => {\n                values[i] = value;\n\n                if (--remaining === 0) {\n                    resolve(values);\n                }\n            }, (reason) => reject(reason));\n        });\n    });\n};\n\nSimplePromise.race = function (promises) {\n    if (!Array.isArray(promises)) {\n        return SimplePromise.reject(new TypeError('You must pass an array to SimplePromise.race.'));\n    }\n\n    return new SimplePromise((resolve, reject) => {\n        promises.forEach((promise) => {\n            SimplePromise.resolve(promise).then(resolve, reject);\n        });\n    });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/"],"sourceRoot":""}